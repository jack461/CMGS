// Cross recursion, with
// tail recursive calls.

var start = ptime();
var id = "T93";
var str92 = stralloc();
sprintf(str92, "%s-%d-Start [expect: %d]", id, thread(`idt), 4000000);
GM_Log(str92);


function first_recursive_function(x,y) (
   x <= 0 ? return(y);
   second_recursive_function(x,y);
);
function second_recursive_function(u, v)
local (x, y, z, t)
(
   x = u; y = v;
   z = x-1; t = 1;
   third_recursive_function(z, y, t);
);
function third_recursive_function(a, b, c)
(
   first_recursive_function(a, b+c);
);
var z = first_recursive_function (2000000, 2000000);


sprintf(str92, "%s-Duration:  %.2f s.", id, ptime() - start);
GM_Log(str92);
sprintf(str92, "%s-Result: %d", id, z);
GM_Log(str92);
sprintf(str92, "%s-%d-End", id, thread(`idt));
GM_Log(str92);

strfree(str92);



