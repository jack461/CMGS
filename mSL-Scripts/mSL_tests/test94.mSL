// Cross recursion, with
// tail recursive calls.

var start = ptime();
var id = "T94";
var str92 = stralloc();
sprintf(str92, "%s-%d-Start [expect: %d]", id, thread(`idt), 4000000);
GM_Log(str92);


function f1(x,y) (
   x <= 0 ? return(y);
   f2(x,y);
);
function f2(u, v)
local (x, y, z, t)
(
   x = u; y = v;
   z = x-1; t = 1;
   f3(z, y, t);
);
function f3(a, b, c)
(
   f1(a, b+c);
);
var z = f1 (2000000, 2000000);


sprintf(str92, "%s-Duration:  %.2f s.", id, ptime() - start);
GM_Log(str92);
sprintf(str92, "%s-Result: %d", id, z);
GM_Log(str92);
sprintf(str92, "%s-%d-End", id, thread(`idt));
GM_Log(str92);

strfree(str92);



